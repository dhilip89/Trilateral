// Generated by Haxe 3.4.0 (git build development @ 4a40be3)
(function ($global) { "use strict";
function $extend(from, fields) {
	function Inherit() {} Inherit.prototype = from; var proto = new Inherit();
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
Math.__name__ = true;
var Std = function() { };
Std.__name__ = true;
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
var htmlHelper_webgl_WebGLSetup = function(width_,height_,autoChild) {
	if(autoChild == null) {
		autoChild = true;
	}
	this.colors = [];
	this.indices = [];
	this.vertices = [];
	this.matrix32Array = new Float32Array([1.0,0.0,0.0,0.0,0.0,1.1,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,1.0]);
	this.modelViewProjection = new khaMath_Matrix4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);
	this.bgAlpha = 1.;
	this.bgBlue = 1.;
	this.bgGreen = 1.;
	this.bgRed = 1.;
	this.width = width_;
	this.height = height_;
	this.canvas = window.document.createElement("canvas");
	this.canvas.width = this.width;
	this.canvas.height = this.height;
	var style = this.canvas.style;
	style.paddingLeft = "0px";
	style.paddingTop = "0px";
	style.left = Std.string(0 + "px");
	style.top = Std.string(0 + "px");
	style.position = "absolute";
	if(autoChild) {
		window.document.body.appendChild(this.canvas);
	}
	this.gl = js_html__$CanvasElement_CanvasUtil.getContextWebGL(this.canvas,null);
};
htmlHelper_webgl_WebGLSetup.__name__ = true;
htmlHelper_webgl_WebGLSetup.prototype = {
	setupProgram: function(vertexString,fragmentString) {
		var gl = this.gl;
		var vertexShader = gl.createShader(35633);
		gl.shaderSource(vertexShader,vertexString);
		gl.compileShader(vertexShader);
		var gl1 = this.gl;
		var fragmentShader = gl1.createShader(35632);
		gl1.shaderSource(fragmentShader,fragmentString);
		gl1.compileShader(fragmentShader);
		var gl2 = this.gl;
		var program = gl2.createProgram();
		gl2.attachShader(program,vertexShader);
		gl2.attachShader(program,fragmentShader);
		gl2.linkProgram(program);
		gl2.useProgram(program);
		this.program = program;
		return this.program;
	}
	,render: function() {
		this.gl.clearColor(this.bgRed,this.bgGreen,this.bgBlue,this.bgAlpha);
		this.gl.enable(2884);
		this.gl.cullFace(1029);
		this.gl.clear(16384);
		this.gl.viewport(0,0,this.canvas.width,this.canvas.height);
		var modelViewProjectionID = this.gl.getUniformLocation(this.program,"modelViewProjection");
		var m = this.modelViewProjection;
		this.matrix32Array.set([m._00,m._10,m._20,m._30,m._01,m._11,m._21,m._31,m._02,m._12,m._22,m._32,m._03,m._13,m._23,m._33]);
		this.gl.uniformMatrix4fv(modelViewProjectionID,false,this.matrix32Array);
		this.gl.drawArrays(4,0,this.indices.length);
	}
	,__class__: htmlHelper_webgl_WebGLSetup
};
var Test = function() {
	this.appColors = [0,16711680,16744192,16776960,65280,255,4915330,9699539,4473924,3355443,789516,1118481,16777215,255,65280,16711680];
	var q_D;
	var q_C;
	var q_B;
	var q_A;
	var dim_y;
	var dim_x;
	var P_y;
	var P_x;
	var B_y;
	var B_x;
	var A_y;
	var A_x;
	var pos_y;
	var pos_x;
	var dim_y1;
	var dim_x1;
	var pos_y1;
	var pos_x1;
	var pos_y2;
	var pos_x2;
	var pos_y3;
	var pos_x3;
	var pos_y4;
	var pos_x4;
	htmlHelper_webgl_WebGLSetup.call(this,1140,1140);
	var dark = 0.09375;
	this.bgRed = dark;
	this.bgGreen = dark;
	this.bgBlue = dark;
	this.triangles = trilateral__$TriangleArray_TriangleArray_$Impl_$._new([]);
	var this1 = this.triangles;
	pos_x4 = -0.3;
	pos_y4 = -0.3;
	var sin;
	var cos;
	var pi = Math.PI;
	var omega = -pi;
	var a0x = pos_x4 + 0.2 * Math.sin(omega);
	var a0y = pos_y4 + 0.2 * Math.cos(omega);
	omega += pi / 3;
	var a1x = pos_x4 + 0.2 * Math.sin(omega);
	var a1y = pos_y4 + 0.2 * Math.cos(omega);
	omega += pi / 3;
	var b0x = pos_x4 + 0.2 * Math.sin(omega);
	var b0y = pos_y4 + 0.2 * Math.cos(omega);
	omega += pi / 3;
	var b1x = pos_x4 + 0.2 * Math.sin(omega);
	var b1y = pos_y4 + 0.2 * Math.cos(omega);
	omega += pi / 3;
	var c0x = pos_x4 + 0.2 * Math.sin(omega);
	var c0y = pos_y4 + 0.2 * Math.cos(omega);
	omega += pi / 3;
	var c1x = pos_x4 + 0.2 * Math.sin(omega);
	var c1y = pos_y4 + 0.2 * Math.cos(omega);
	var tri = { t0 : new trilateral_Trilateral(a0x,a0y,b0x,b0y,c0x,c0y), t1 : new trilateral_Trilateral(a1x,a1y,b1x,b1y,c1x,c1y)};
	var tri1 = tri.t0;
	var t = Type.createEmptyInstance(trilateral_Triangle);
	t.id = 1;
	t.ax = tri1.ax;
	t.ay = tri1.ay;
	t.bx = tri1.bx;
	t.by = tri1.by;
	t.cx = tri1.cx;
	t.cy = tri1.cy;
	t.depth = 0;
	t.alpha = 1.;
	t.colorID = 2;
	t.colorA = 2;
	t.colorB = 2;
	t.colorC = 2;
	t.windingAdjusted = tri1.windingAdjusted;
	this1[this1.length] = t;
	var tri2 = tri.t1;
	var t1 = Type.createEmptyInstance(trilateral_Triangle);
	t1.id = 1;
	t1.ax = tri2.ax;
	t1.ay = tri2.ay;
	t1.bx = tri2.bx;
	t1.by = tri2.by;
	t1.cx = tri2.cx;
	t1.cy = tri2.cy;
	t1.depth = 0;
	t1.alpha = 1.;
	t1.colorID = 2;
	t1.colorA = 2;
	t1.colorB = 2;
	t1.colorC = 2;
	t1.windingAdjusted = tri2.windingAdjusted;
	this1[this1.length] = t1;
	var this2 = this.triangles;
	pos_x3 = -0.3;
	pos_y3 = 0.3;
	var theta = Math.PI / 4;
	var ax = 0.;
	var ay = 0.;
	var bx = 0.;
	var by = 0.;
	var cx = 0.;
	var cy = 0.;
	var dx = 0.;
	var dy = 0.;
	if(theta != 0) {
		var pi1 = Math.PI;
		var pi4 = pi1 / 4;
		var r = 0.15 * Math.sqrt(2);
		var px = pos_x3;
		var py = pos_y3;
		var aTheta = -pi1 + theta - pi4;
		var dTheta = -pi1 + theta + pi1 / 2 - pi1 / 4;
		var cTheta = theta - pi4;
		var bTheta = -pi1 + theta - pi1 / 2 - pi4;
		ax = px + r * Math.sin(aTheta);
		ay = py + r * Math.cos(aTheta);
		bx = px + r * Math.sin(bTheta);
		by = py + r * Math.cos(bTheta);
		cx = px + r * Math.sin(cTheta);
		cy = py + r * Math.cos(cTheta);
		dx = px + r * Math.sin(dTheta);
		dy = py + r * Math.cos(dTheta);
	} else {
		ax = pos_x3 - 0.15;
		ay = pos_y3 - 0.15;
		var lx = 0.3;
		bx = ax + lx;
		by = ay;
		cx = bx;
		cy = ay + lx;
		dx = ax;
		dy = cy;
	}
	var tri3 = { t0 : new trilateral_Trilateral(ax,ay,bx,by,dx,dy), t1 : new trilateral_Trilateral(bx,by,cx,cy,dx,dy)};
	var tri4 = tri3.t0;
	var t2 = Type.createEmptyInstance(trilateral_Triangle);
	t2.id = 1;
	t2.ax = tri4.ax;
	t2.ay = tri4.ay;
	t2.bx = tri4.bx;
	t2.by = tri4.by;
	t2.cx = tri4.cx;
	t2.cy = tri4.cy;
	t2.depth = 0;
	t2.alpha = 1.;
	t2.colorID = 3;
	t2.colorA = 3;
	t2.colorB = 3;
	t2.colorC = 3;
	t2.windingAdjusted = tri4.windingAdjusted;
	this2[this2.length] = t2;
	var tri5 = tri3.t1;
	var t3 = Type.createEmptyInstance(trilateral_Triangle);
	t3.id = 1;
	t3.ax = tri5.ax;
	t3.ay = tri5.ay;
	t3.bx = tri5.bx;
	t3.by = tri5.by;
	t3.cx = tri5.cx;
	t3.cy = tri5.cy;
	t3.depth = 0;
	t3.alpha = 1.;
	t3.colorID = 3;
	t3.colorA = 3;
	t3.colorB = 3;
	t3.colorC = 3;
	t3.windingAdjusted = tri5.windingAdjusted;
	this2[this2.length] = t3;
	var this3 = this.triangles;
	pos_x2 = 0.3;
	pos_y2 = -0.3;
	var ax1 = 0.;
	var ay1 = 0.;
	var bx1 = 0.;
	var by1 = 0.;
	var cx1 = 0.;
	var cy1 = 0.;
	var dx1 = 0.;
	var dy1 = 0.;
	ax1 = pos_x2 - 0.15;
	ay1 = pos_y2 - 0.15;
	var lx1 = 0.3;
	bx1 = ax1 + lx1;
	by1 = ay1;
	cx1 = bx1;
	cy1 = ay1 + lx1;
	dx1 = ax1;
	dy1 = cy1;
	var tri6 = { t0 : new trilateral_Trilateral(ax1,ay1,bx1,by1,dx1,dy1), t1 : new trilateral_Trilateral(bx1,by1,cx1,cy1,dx1,dy1)};
	var tri7 = tri6.t0;
	var t4 = Type.createEmptyInstance(trilateral_Triangle);
	t4.id = 1;
	t4.ax = tri7.ax;
	t4.ay = tri7.ay;
	t4.bx = tri7.bx;
	t4.by = tri7.by;
	t4.cx = tri7.cx;
	t4.cy = tri7.cy;
	t4.depth = 0;
	t4.alpha = 1.;
	t4.colorID = 4;
	t4.colorA = 4;
	t4.colorB = 4;
	t4.colorC = 4;
	t4.windingAdjusted = tri7.windingAdjusted;
	this3[this3.length] = t4;
	var tri8 = tri6.t1;
	var t5 = Type.createEmptyInstance(trilateral_Triangle);
	t5.id = 1;
	t5.ax = tri8.ax;
	t5.ay = tri8.ay;
	t5.bx = tri8.bx;
	t5.by = tri8.by;
	t5.cx = tri8.cx;
	t5.cy = tri8.cy;
	t5.depth = 0;
	t5.alpha = 1.;
	t5.colorID = 4;
	t5.colorA = 4;
	t5.colorB = 4;
	t5.colorC = 4;
	t5.windingAdjusted = tri8.windingAdjusted;
	this3[this3.length] = t5;
	var this4 = this.triangles;
	pos_x1 = -0.15;
	pos_y1 = -0.1;
	dim_x1 = 0.3;
	dim_y1 = 0.2;
	var ax2 = pos_x1;
	var ay2 = pos_y1;
	var bx2 = ax2 + dim_x1;
	var by2 = ay2;
	var cy2 = ay2 + dim_y1;
	var dx2 = ax2;
	var dy2 = cy2;
	var tri9 = { t0 : new trilateral_Trilateral(ax2,ay2,bx2,by2,dx2,dy2), t1 : new trilateral_Trilateral(bx2,by2,bx2,cy2,dx2,dy2)};
	var tri10 = tri9.t0;
	var t6 = Type.createEmptyInstance(trilateral_Triangle);
	t6.id = 1;
	t6.ax = tri10.ax;
	t6.ay = tri10.ay;
	t6.bx = tri10.bx;
	t6.by = tri10.by;
	t6.cx = tri10.cx;
	t6.cy = tri10.cy;
	t6.depth = 0;
	t6.alpha = 1.;
	t6.colorID = 5;
	t6.colorA = 5;
	t6.colorB = 5;
	t6.colorC = 5;
	t6.windingAdjusted = tri10.windingAdjusted;
	this4[this4.length] = t6;
	var tri11 = tri9.t1;
	var t7 = Type.createEmptyInstance(trilateral_Triangle);
	t7.id = 1;
	t7.ax = tri11.ax;
	t7.ay = tri11.ay;
	t7.bx = tri11.bx;
	t7.by = tri11.by;
	t7.cx = tri11.cx;
	t7.cy = tri11.cy;
	t7.depth = 0;
	t7.alpha = 1.;
	t7.colorID = 5;
	t7.colorA = 5;
	t7.colorB = 5;
	t7.colorC = 5;
	t7.windingAdjusted = tri11.windingAdjusted;
	this4[this4.length] = t7;
	var this5 = this.triangles;
	pos_x = 0.3;
	pos_y = 0.3;
	var out = [];
	var pi2 = Math.PI;
	var theta1 = pi2 / 2;
	var step = pi2 * 2 / 36;
	var ax3 = pos_x;
	var ay3 = pos_y;
	var bx3;
	var by3;
	var cx2;
	var cy3;
	var _g1 = 0;
	var _g = 36;
	while(_g1 < _g) {
		++_g1;
		bx3 = ax3 + 0.1 * Math.sin(theta1);
		by3 = ay3 + 0.1 * Math.cos(theta1);
		theta1 += step;
		cx2 = ax3 + 0.1 * Math.sin(theta1);
		cy3 = ay3 + 0.1 * Math.cos(theta1);
		out[out.length] = new trilateral_Trilateral(ax3,ay3,bx3,by3,cx2,cy3);
	}
	var triArr = out;
	var tri12;
	var _g2 = 0;
	while(_g2 < triArr.length) {
		var t8 = triArr[_g2];
		++_g2;
		var t9 = Type.createEmptyInstance(trilateral_Triangle);
		t9.id = 1;
		t9.ax = t8.ax;
		t9.ay = t8.ay;
		t9.bx = t8.bx;
		t9.by = t8.by;
		t9.cx = t8.cx;
		t9.cy = t8.cy;
		t9.depth = 0;
		t9.alpha = 1.;
		t9.colorID = 6;
		t9.colorA = 6;
		t9.colorB = 6;
		t9.colorC = 6;
		t9.windingAdjusted = t8.windingAdjusted;
		tri12 = t9;
		this5[this5.length] = tri12;
	}
	var this6 = this.triangles;
	A_x = 0.;
	A_y = 0.;
	B_x = 0.5;
	B_y = 0.5;
	var dx3 = A_x - B_x;
	var dy3 = A_y - B_y;
	P_x = A_x - 0.005;
	P_y = A_y;
	var omega1 = Math.atan2(dy3,dx3);
	dim_x = 0.01;
	dim_y = dx3 * dx3 + dy3 * dy3;
	var pivotX = A_x + 0.005;
	var pivotY = A_y;
	var px1 = P_x;
	var py1 = P_y;
	var dx4 = dim_x;
	var dy4 = dim_y;
	var A_ = { x : px1, y : py1};
	var B_ = { x : px1 + dx4, y : py1};
	var C_ = { x : px1 + dx4, y : py1 + dy4};
	var D_ = { x : px1, y : py1 + dy4};
	if(omega1 != 0.) {
		var sin1 = Math.sin(omega1);
		var cos1 = Math.cos(omega1);
		var px2 = A_.x - pivotX;
		var py2 = A_.y - pivotY;
		var px21 = px2 * cos1 - py2 * sin1;
		py2 = py2 * cos1 + px2 * sin1;
		A_ = { x : px21 + pivotX, y : py2 + pivotY};
		var px3 = B_.x - pivotX;
		var py3 = B_.y - pivotY;
		var px22 = px3 * cos1 - py3 * sin1;
		py3 = py3 * cos1 + px3 * sin1;
		B_ = { x : px22 + pivotX, y : py3 + pivotY};
		var px4 = C_.x - pivotX;
		var py4 = C_.y - pivotY;
		var px23 = px4 * cos1 - py4 * sin1;
		py4 = py4 * cos1 + px4 * sin1;
		C_ = { x : px23 + pivotX, y : py4 + pivotY};
		var px5 = D_.x - pivotX;
		var py5 = D_.y - pivotY;
		var px24 = px5 * cos1 - py5 * sin1;
		py5 = py5 * cos1 + px5 * sin1;
		D_ = { x : px24 + pivotX, y : py5 + pivotY};
	}
	q_A = A_;
	q_B = B_;
	q_C = C_;
	q_D = D_;
	var tri13 = { t0 : new trilateral_Trilateral(q_A.x,q_A.y,q_B.x,q_B.y,q_D.x,q_D.y), t1 : new trilateral_Trilateral(q_B.x,q_B.y,q_C.x,q_C.y,q_D.x,q_D.y)};
	var tri14 = tri13.t0;
	var t10 = Type.createEmptyInstance(trilateral_Triangle);
	t10.id = 1;
	t10.ax = tri14.ax;
	t10.ay = tri14.ay;
	t10.bx = tri14.bx;
	t10.by = tri14.by;
	t10.cx = tri14.cx;
	t10.cy = tri14.cy;
	t10.depth = 0;
	t10.alpha = 1.;
	t10.colorID = 1;
	t10.colorA = 1;
	t10.colorB = 1;
	t10.colorC = 1;
	t10.windingAdjusted = tri14.windingAdjusted;
	this6[this6.length] = t10;
	var tri15 = tri13.t1;
	var t11 = Type.createEmptyInstance(trilateral_Triangle);
	t11.id = 1;
	t11.ax = tri15.ax;
	t11.ay = tri15.ay;
	t11.bx = tri15.bx;
	t11.by = tri15.by;
	t11.cx = tri15.cx;
	t11.cy = tri15.cy;
	t11.depth = 0;
	t11.alpha = 1.;
	t11.colorID = 1;
	t11.colorA = 1;
	t11.colorB = 1;
	t11.colorC = 1;
	t11.windingAdjusted = tri15.windingAdjusted;
	this6[this6.length] = t11;
	this.setupProgram("attribute vec3 pos;" + "attribute vec4 color;" + "varying vec4 vcol;" + "uniform mat4 modelViewProjection;" + "void main(void) {" + " gl_Position = modelViewProjection * vec4(pos, 1.0);" + " vcol = color;" + "}","precision mediump float;" + "varying vec4 vcol;" + "void main(void) {" + " gl_FragColor = vcol;" + "}");
	this.modelViewProjection = new khaMath_Matrix4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);
	if(htmlHelper_tools_AnimateTimer.s == null) {
		htmlHelper_tools_AnimateTimer.s = window.document.createElement("style");
		htmlHelper_tools_AnimateTimer.s.innerHTML = "@keyframes spin { from { transform:rotate( 0deg ); } to { transform:rotate( 360deg ); } }";
		window.document.getElementsByTagName("head")[0].appendChild(htmlHelper_tools_AnimateTimer.s);
		htmlHelper_tools_AnimateTimer.s.animation = "spin 1s linear infinite";
		htmlHelper_tools_AnimateTimer.loop(60.0);
	}
	htmlHelper_tools_AnimateTimer.onFrame = $bind(this,this.render_);
	this.render();
};
Test.__name__ = true;
Test.main = function() {
	new Test();
};
Test.__super__ = htmlHelper_webgl_WebGLSetup;
Test.prototype = $extend(htmlHelper_webgl_WebGLSetup.prototype,{
	setTriangles: function(triangles,triangleColors) {
		var rgb;
		var count = 0;
		var i = 0;
		var c = 0;
		var j = 0;
		var _g = 0;
		while(_g < triangles.length) {
			var tri = triangles[_g];
			++_g;
			this.vertices[i++] = tri.ax;
			this.vertices[i++] = tri.ay + 0.3;
			this.vertices[i++] = tri.depth;
			this.vertices[i++] = tri.bx;
			this.vertices[i++] = tri.by + 0.3;
			this.vertices[i++] = tri.depth;
			this.vertices[i++] = tri.cx;
			this.vertices[i++] = tri.cy + 0.3;
			this.vertices[i++] = tri.depth;
			var $int = triangleColors[tri.colorID];
			rgb = { r : ($int >> 16 & 255) / 255, g : ($int >> 8 & 255) / 255, b : ($int & 255) / 255};
			var _g1 = 0;
			while(_g1 < 3) {
				++_g1;
				this.colors[c++] = rgb.r;
				this.colors[c++] = rgb.g;
				this.colors[c++] = rgb.b;
				this.colors[c++] = 1.0;
				this.indices[j++] = count++;
			}
		}
		var gl = this.gl;
		var program = this.program;
		var vertices = this.vertices;
		var colors = this.colors;
		gl.bindBuffer(34962,gl.createBuffer());
		gl.bufferData(34962,new Float32Array(vertices),35044);
		var position = gl.getAttribLocation(program,"pos");
		gl.vertexAttribPointer(position,3,5126,false,0,0);
		gl.enableVertexAttribArray(position);
		gl.bindBuffer(34962,null);
		gl.bindBuffer(34962,gl.createBuffer());
		gl.bufferData(34962,new Float32Array(colors),35044);
		var col = gl.getAttribLocation(program,"color");
		gl.vertexAttribPointer(col,4,5126,false,0,0);
		gl.enableVertexAttribArray(col);
		gl.bindBuffer(34962,null);
	}
	,render_: function(i) {
		this.render();
	}
	,render: function() {
		this.vertices = [];
		this.indices = [];
		this.colors = [];
		this.setTriangles(this.triangles,this.appColors);
		htmlHelper_webgl_WebGLSetup.prototype.render.call(this);
	}
	,__class__: Test
});
var Type = function() { };
Type.__name__ = true;
Type.createEmptyInstance = function(cl) {
	function empty() {}; empty.prototype = cl.prototype;
	return new empty();
};
var haxe_io_FPHelper = function() { };
haxe_io_FPHelper.__name__ = true;
haxe_io_FPHelper.i32ToFloat = function(i) {
	var exp = i >>> 23 & 255;
	var sig = i & 8388607;
	if(sig == 0 && exp == 0) {
		return 0.0;
	}
	return (1 - (i >>> 31 << 1)) * (1 + Math.pow(2,-23) * sig) * Math.pow(2,exp - 127);
};
haxe_io_FPHelper.floatToI32 = function(f) {
	if(f == 0) {
		return 0;
	}
	var af = f < 0 ? -f : f;
	var exp = Math.floor(Math.log(af) / 0.6931471805599453);
	if(exp < -127) {
		exp = -127;
	} else if(exp > 128) {
		exp = 128;
	}
	var sig = Math.round((af / Math.pow(2,exp) - 1) * 8388608);
	if(sig == 8388608 && exp < 128) {
		sig = 0;
		++exp;
	}
	return (f < 0 ? -2147483648 : 0) | exp + 127 << 23 | sig;
};
var htmlHelper_tools_AnimateTimer = function() { };
htmlHelper_tools_AnimateTimer.__name__ = true;
htmlHelper_tools_AnimateTimer.loop = function(tim) {
	window.requestAnimationFrame(htmlHelper_tools_AnimateTimer.loop);
	if(htmlHelper_tools_AnimateTimer.onFrame != null) {
		htmlHelper_tools_AnimateTimer.onFrame(htmlHelper_tools_AnimateTimer.counter);
	}
	htmlHelper_tools_AnimateTimer.counter++;
	return true;
};
var js__$Boot_HaxeError = function(val) {
	Error.call(this);
	this.val = val;
	this.message = String(val);
	if(Error.captureStackTrace) {
		Error.captureStackTrace(this,js__$Boot_HaxeError);
	}
};
js__$Boot_HaxeError.__name__ = true;
js__$Boot_HaxeError.wrap = function(val) {
	if((val instanceof Error)) {
		return val;
	} else {
		return new js__$Boot_HaxeError(val);
	}
};
js__$Boot_HaxeError.__super__ = Error;
js__$Boot_HaxeError.prototype = $extend(Error.prototype,{
	__class__: js__$Boot_HaxeError
});
var js_Boot = function() { };
js_Boot.__name__ = true;
js_Boot.getClass = function(o) {
	if((o instanceof Array) && o.__enum__ == null) {
		return Array;
	} else {
		var cl = o.__class__;
		if(cl != null) {
			return cl;
		}
		var name = js_Boot.__nativeClassName(o);
		if(name != null) {
			return js_Boot.__resolveNativeClass(name);
		}
		return null;
	}
};
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o instanceof Array) {
			if(o.__enum__) {
				if(o.length == 2) {
					return o[0];
				}
				var str = o[0] + "(";
				s += "\t";
				var _g1 = 2;
				var _g = o.length;
				while(_g1 < _g) {
					var i = _g1++;
					if(i != 2) {
						str += "," + js_Boot.__string_rec(o[i],s);
					} else {
						str += js_Boot.__string_rec(o[i],s);
					}
				}
				return str + ")";
			}
			var l = o.length;
			var i1;
			var str1 = "[";
			s += "\t";
			var _g11 = 0;
			var _g2 = l;
			while(_g11 < _g2) {
				var i2 = _g11++;
				str1 += (i2 > 0 ? "," : "") + js_Boot.__string_rec(o[i2],s);
			}
			str1 += "]";
			return str1;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e ) {
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var k = null;
		var str2 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		for( var k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str2.length != 2) {
			str2 += ", \n";
		}
		str2 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str2 += "\n" + s + "}";
		return str2;
	case "string":
		return o;
	default:
		return String(o);
	}
};
js_Boot.__interfLoop = function(cc,cl) {
	if(cc == null) {
		return false;
	}
	if(cc == cl) {
		return true;
	}
	var intf = cc.__interfaces__;
	if(intf != null) {
		var _g1 = 0;
		var _g = intf.length;
		while(_g1 < _g) {
			var i = intf[_g1++];
			if(i == cl || js_Boot.__interfLoop(i,cl)) {
				return true;
			}
		}
	}
	return js_Boot.__interfLoop(cc.__super__,cl);
};
js_Boot.__instanceof = function(o,cl) {
	if(cl == null) {
		return false;
	}
	switch(cl) {
	case Array:
		if((o instanceof Array)) {
			return o.__enum__ == null;
		} else {
			return false;
		}
		break;
	case Bool:
		return typeof(o) == "boolean";
	case Dynamic:
		return true;
	case Float:
		return typeof(o) == "number";
	case Int:
		if(typeof(o) == "number") {
			return (o|0) === o;
		} else {
			return false;
		}
		break;
	case String:
		return typeof(o) == "string";
	default:
		if(o != null) {
			if(typeof(cl) == "function") {
				if(o instanceof cl) {
					return true;
				}
				if(js_Boot.__interfLoop(js_Boot.getClass(o),cl)) {
					return true;
				}
			} else if(typeof(cl) == "object" && js_Boot.__isNativeObj(cl)) {
				if(o instanceof cl) {
					return true;
				}
			}
		} else {
			return false;
		}
		if(cl == Class ? o.__name__ != null : false) {
			return true;
		}
		if(cl == Enum ? o.__ename__ != null : false) {
			return true;
		}
		return o.__enum__ == cl;
	}
};
js_Boot.__nativeClassName = function(o) {
	var name = js_Boot.__toStr.call(o).slice(8,-1);
	if(name == "Object" || name == "Function" || name == "Math" || name == "JSON") {
		return null;
	}
	return name;
};
js_Boot.__isNativeObj = function(o) {
	return js_Boot.__nativeClassName(o) != null;
};
js_Boot.__resolveNativeClass = function(name) {
	return $global[name];
};
var js_html__$CanvasElement_CanvasUtil = function() { };
js_html__$CanvasElement_CanvasUtil.__name__ = true;
js_html__$CanvasElement_CanvasUtil.getContextWebGL = function(canvas,attribs) {
	var _g = 0;
	var _g1 = ["webgl","experimental-webgl"];
	while(_g < _g1.length) {
		var name = _g1[_g];
		++_g;
		var ctx = canvas.getContext(name,attribs);
		if(ctx != null) {
			return ctx;
		}
	}
	return null;
};
var js_html_compat_ArrayBuffer = function(a) {
	if((a instanceof Array) && a.__enum__ == null) {
		this.a = a;
		this.byteLength = a.length;
	} else {
		var len = a;
		this.a = [];
		var _g1 = 0;
		var _g = len;
		while(_g1 < _g) this.a[_g1++] = 0;
		this.byteLength = len;
	}
};
js_html_compat_ArrayBuffer.__name__ = true;
js_html_compat_ArrayBuffer.sliceImpl = function(begin,end) {
	var u = new Uint8Array(this,begin,end == null ? null : end - begin);
	var result = new ArrayBuffer(u.byteLength);
	new Uint8Array(result).set(u);
	return result;
};
js_html_compat_ArrayBuffer.prototype = {
	slice: function(begin,end) {
		return new js_html_compat_ArrayBuffer(this.a.slice(begin,end));
	}
	,__class__: js_html_compat_ArrayBuffer
};
var js_html_compat_Float32Array = function() { };
js_html_compat_Float32Array.__name__ = true;
js_html_compat_Float32Array._new = function(arg1,offset,length) {
	var arr;
	if(typeof(arg1) == "number") {
		arr = [];
		var _g1 = 0;
		var _g = arg1;
		while(_g1 < _g) {
			var i = _g1++;
			arr[i] = 0;
		}
		arr.byteLength = arr.length << 2;
		arr.byteOffset = 0;
		var _g2 = [];
		var _g21 = 0;
		var _g11 = arr.length << 2;
		while(_g21 < _g11) {
			var i1 = _g21++;
			_g2.push(0);
		}
		arr.buffer = new js_html_compat_ArrayBuffer(_g2);
	} else if(js_Boot.__instanceof(arg1,js_html_compat_ArrayBuffer)) {
		var buffer = arg1;
		if(offset == null) {
			offset = 0;
		}
		if(length == null) {
			length = buffer.byteLength - offset >> 2;
		}
		arr = [];
		var _g12 = 0;
		var _g3 = length;
		while(_g12 < _g3) {
			var i2 = _g12++;
			var val = buffer.a[offset++] | buffer.a[offset++] << 8 | buffer.a[offset++] << 16 | buffer.a[offset++] << 24;
			arr.push(haxe_io_FPHelper.i32ToFloat(val));
		}
		arr.byteLength = arr.length << 2;
		arr.byteOffset = offset;
		arr.buffer = buffer;
	} else if((arg1 instanceof Array) && arg1.__enum__ == null) {
		arr = arg1.slice();
		var buffer1 = [];
		var _g4 = 0;
		while(_g4 < arr.length) {
			var f = arr[_g4];
			++_g4;
			var i3 = haxe_io_FPHelper.floatToI32(f);
			buffer1.push(i3 & 255);
			buffer1.push(i3 >> 8 & 255);
			buffer1.push(i3 >> 16 & 255);
			buffer1.push(i3 >>> 24);
		}
		arr.byteLength = arr.length << 2;
		arr.byteOffset = 0;
		arr.buffer = new js_html_compat_ArrayBuffer(buffer1);
	} else {
		throw new js__$Boot_HaxeError("TODO " + Std.string(arg1));
	}
	arr.subarray = js_html_compat_Float32Array._subarray;
	arr.set = js_html_compat_Float32Array._set;
	return arr;
};
js_html_compat_Float32Array._set = function(arg,offset) {
	if(js_Boot.__instanceof(arg.buffer,js_html_compat_ArrayBuffer)) {
		var a = arg;
		if(arg.byteLength + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g1 = 0;
		var _g = arg.byteLength;
		while(_g1 < _g) {
			var i = _g1++;
			this[i + offset] = a[i];
		}
	} else if((arg instanceof Array) && arg.__enum__ == null) {
		var a1 = arg;
		if(a1.length + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g11 = 0;
		var _g2 = a1.length;
		while(_g11 < _g2) {
			var i1 = _g11++;
			this[i1 + offset] = a1[i1];
		}
	} else {
		throw new js__$Boot_HaxeError("TODO");
	}
};
js_html_compat_Float32Array._subarray = function(start,end) {
	var a = js_html_compat_Float32Array._new(this.slice(start,end));
	a.byteOffset = start * 4;
	return a;
};
var js_html_compat_Uint8Array = function() { };
js_html_compat_Uint8Array.__name__ = true;
js_html_compat_Uint8Array._new = function(arg1,offset,length) {
	var arr;
	if(typeof(arg1) == "number") {
		arr = [];
		var _g1 = 0;
		var _g = arg1;
		while(_g1 < _g) {
			var i = _g1++;
			arr[i] = 0;
		}
		arr.byteLength = arr.length;
		arr.byteOffset = 0;
		arr.buffer = new js_html_compat_ArrayBuffer(arr);
	} else if(js_Boot.__instanceof(arg1,js_html_compat_ArrayBuffer)) {
		var buffer = arg1;
		if(offset == null) {
			offset = 0;
		}
		if(length == null) {
			length = buffer.byteLength - offset;
		}
		if(offset == 0) {
			arr = buffer.a;
		} else {
			arr = buffer.a.slice(offset,offset + length);
		}
		arr.byteLength = arr.length;
		arr.byteOffset = offset;
		arr.buffer = buffer;
	} else if((arg1 instanceof Array) && arg1.__enum__ == null) {
		arr = arg1.slice();
		arr.byteLength = arr.length;
		arr.byteOffset = 0;
		arr.buffer = new js_html_compat_ArrayBuffer(arr);
	} else {
		throw new js__$Boot_HaxeError("TODO " + Std.string(arg1));
	}
	arr.subarray = js_html_compat_Uint8Array._subarray;
	arr.set = js_html_compat_Uint8Array._set;
	return arr;
};
js_html_compat_Uint8Array._set = function(arg,offset) {
	if(js_Boot.__instanceof(arg.buffer,js_html_compat_ArrayBuffer)) {
		var a = arg;
		if(arg.byteLength + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g1 = 0;
		var _g = arg.byteLength;
		while(_g1 < _g) {
			var i = _g1++;
			this[i + offset] = a[i];
		}
	} else if((arg instanceof Array) && arg.__enum__ == null) {
		var a1 = arg;
		if(a1.length + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g11 = 0;
		var _g2 = a1.length;
		while(_g11 < _g2) {
			var i1 = _g11++;
			this[i1 + offset] = a1[i1];
		}
	} else {
		throw new js__$Boot_HaxeError("TODO");
	}
};
js_html_compat_Uint8Array._subarray = function(start,end) {
	var a = js_html_compat_Uint8Array._new(this.slice(start,end));
	a.byteOffset = start;
	return a;
};
var khaMath_Matrix4 = function(_00,_10,_20,_30,_01,_11,_21,_31,_02,_12,_22,_32,_03,_13,_23,_33) {
	this._00 = _00;
	this._10 = _10;
	this._20 = _20;
	this._30 = _30;
	this._01 = _01;
	this._11 = _11;
	this._21 = _21;
	this._31 = _31;
	this._02 = _02;
	this._12 = _12;
	this._22 = _22;
	this._32 = _32;
	this._03 = _03;
	this._13 = _13;
	this._23 = _23;
	this._33 = _33;
};
khaMath_Matrix4.__name__ = true;
khaMath_Matrix4.prototype = {
	__class__: khaMath_Matrix4
};
var trilateral_Trilateral = function(ax_,ay_,bx_,by_,cx_,cy_) {
	this.ax = ax_;
	this.ay = ay_;
	this.bx = bx_;
	this.by = by_;
	this.cx = cx_;
	this.cy = cy_;
	this.windingAdjusted = this.adjustWinding();
	if(this.windingAdjusted) {
		this.ax = ax_;
		this.ay = ay_;
		this.bx = cx_;
		this.by = cy_;
		this.cx = bx_;
		this.cy = by_;
	}
};
trilateral_Trilateral.__name__ = true;
trilateral_Trilateral.prototype = {
	adjustWinding: function() {
		return this.ax * this.by - this.bx * this.ay + (this.bx * this.cy - this.cx * this.by) + (this.cx * this.ay - this.ax * this.cy) < 0;
	}
	,__class__: trilateral_Trilateral
};
var trilateral_Triangle = function() { };
trilateral_Triangle.__name__ = true;
trilateral_Triangle.fromTrilateral = function(id_,tri,depth_,colorID_) {
	var t = Type.createEmptyInstance(trilateral_Triangle);
	t.id = id_;
	t.ax = tri.ax;
	t.ay = tri.ay;
	t.bx = tri.bx;
	t.by = tri.by;
	t.cx = tri.cx;
	t.cy = tri.cy;
	t.depth = depth_;
	t.alpha = 1.;
	t.colorID = colorID_;
	t.colorA = colorID_;
	t.colorB = colorID_;
	t.colorC = colorID_;
	t.windingAdjusted = tri.windingAdjusted;
	return t;
};
trilateral_Triangle.__super__ = trilateral_Trilateral;
trilateral_Triangle.prototype = $extend(trilateral_Trilateral.prototype,{
	__class__: trilateral_Triangle
});
var trilateral__$TriangleArray_TriangleArray_$Impl_$ = {};
trilateral__$TriangleArray_TriangleArray_$Impl_$.__name__ = true;
trilateral__$TriangleArray_TriangleArray_$Impl_$._new = function(t) {
	return t == null ? trilateral__$TriangleArray_TriangleArray_$Impl_$._new([]) : t;
};
var $_, $fid = 0;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $fid++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = function(){ return f.method.apply(f.scope, arguments); }; f.scope = o; f.method = m; o.hx__closures__[m.__id__] = f; } return f; }
String.prototype.__class__ = String;
String.__name__ = true;
Array.__name__ = true;
var Int = { __name__ : ["Int"]};
var Dynamic = { __name__ : ["Dynamic"]};
var Float = Number;
Float.__name__ = ["Float"];
var Bool = Boolean;
Bool.__ename__ = ["Bool"];
var Class = { __name__ : ["Class"]};
var Enum = { };
var ArrayBuffer = $global.ArrayBuffer || js_html_compat_ArrayBuffer;
if(ArrayBuffer.prototype.slice == null) {
	ArrayBuffer.prototype.slice = js_html_compat_ArrayBuffer.sliceImpl;
}
var Float32Array = $global.Float32Array || js_html_compat_Float32Array._new;
var Uint8Array = $global.Uint8Array || js_html_compat_Uint8Array._new;
htmlHelper_tools_AnimateTimer.counter = 0;
js_Boot.__toStr = ({ }).toString;
js_html_compat_Float32Array.BYTES_PER_ELEMENT = 4;
js_html_compat_Uint8Array.BYTES_PER_ELEMENT = 1;
Test.main();
})(typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);
